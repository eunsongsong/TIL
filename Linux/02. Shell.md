[TOC]

### 02. Shell

#### 2-1. 셸의 개념 및 종류

##### 셸 (Shell)

커널과 사용자간 다리 역할을 하는 것으로 사용자로부터 명령을 받아 그것을 해석하고 프로그램을 실행

| 셸   | 내용                                                         |
| ---- | ------------------------------------------------------------ |
| bash | 본 셸을 기반으로 GNU 프로젝트레 의해 개발, 다양한 운영체제에서 사용 가능(리눅스, 맥os), 현재 리눅스의 표준 셸, ksh와 csh의 유용한 기능을 참고 |
| csh  | 버클리 대학의 빌조이가 개발, C 언어 기반, 히스토리 기능, 별명 기능, 작업 제어 |
| tcsh | csh의 기능을 강화시킨 셸                                     |
| ksh  | AT&T사의 데이비드 콘이 개발, 명령어 완성 기능, 히스토리 기능 |

##### echo $SHELL

현재 로그인한 사용자가 사용하고 있는 셸 확인

##### chsh

- 일반 사용자 환경에서 셸 변경 시 사용

- __cash -l__ : 변경 가능한 셸 확인, /etc/shells 의 파일 내용과 동일한 내용을 보여줌

- 변경한 셸의 적용은 다음 재부팅한 다음 로그인부터 유효함



#### 2-2. 셸 변수와 환경 변수

##### 셸 변수

- 특정한 셸에서만 적용되는 변수

- 리눅스에서는 명령행에서 '변수명=값' 형태로 지정하여 사용할 수 있음
- 변수값을 출력할 때는 변수명 앞에 $을 붙이고 echo 명령으로 확인할 수 있음

```bash
[song@localhost ~ ]$ city=seoul
[song@localhost ~ ]$ echo $city
seoul
```

##### 환경 변수

현재 설정된 전체 환경 변수의 값은 __env__ 명령으로 확인 가능

| 변수         | 내용                                                   |
| ------------ | ------------------------------------------------------ |
| HOME         | 사용자의 홈 디렉터리                                   |
| PATH         | 실행 파일을 찾는 디렉터리 경로                         |
| LANG         | 셸 사용 시 기본으로 지원되는 언어 (LANG=C 영어로 변경) |
| TERM         | 로그인한 터미널 종류                                   |
| PWD          | 사용자의 현재 작업 디렉터리                            |
| SHELL        | 사용자의 로그인 셸                                     |
| PS1          | 프롬프트 변수                                          |
| PS2          | 2차 프롬프트 변수                                      |
| HISTFILE     | 히스토리 파일의 절대 경로                              |
| HISTSIZE     | 히스토리 파일에 저장되는 명령어 개수                   |
| HISTFILESIZE | 히스토리 파일의 크기                                   |
| TMOUT        | 로그아웃 관련 시간 제어                                |

##### history

- 사용자가 입력한 명령어를 확인하는 명령 

- __!__ 로 대체하여 사용 가능

| 명령어   | 설명                      |
| --------- | ------------------------- |
|history 또는 !|히스토리에 저장된 명령 목록 출력|
| !!        | 마지막으로 실행했던 명령문 실행 |
| !n        | n번째 명령어 실행 |
| !-n       | 현재 명령행에서 n개를 뺀 행의 명령어 실행 |
| !문자열   | 가장 최근에 '문자열'으로 시작하는 명령문 실행 |
| !?문자열? | 가장 최근에 '문자열'을 포함하고 있는 명령문 실행 |

##### alias

- 어떠한 명령을 지정해 놓으면 사용자가 그 명령을 실행했을 때 alias로 지정해 놓은 명령이 대신 실행되며, unaliase 명령으로 설정을 해제할 수 있음

- alias : 현재 설정된 alias 목록을 출력

##### 환경 설정 파일

| 환경 설정 파일  | 기능                                                         |
| --------------- | ------------------------------------------------------------ |
| /etc/profile    | 모든 사용자에 적용되는 환경 변수와 시작 관련 프로그램 설정 지정 파일 |
| /etc/bashrc     | 모든 사용자에 적용되는 alias와 함수를 설정                   |
| ~/.bash_profile | 개인 사용자의 환경 설정과 시작 프로그램 설정                 |
| ~/.bashrc       | 개인 사용자가 정의한 alias와 함수들이 있는 파일              |
| ~/.bash_logout  | 개인 사용자가 로그아웃할 때 수행하는 설정을 지정하는 파일    |





