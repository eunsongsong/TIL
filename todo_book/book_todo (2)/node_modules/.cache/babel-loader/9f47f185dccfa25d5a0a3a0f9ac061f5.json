{"ast":null,"code":"import _initializerDefineProperty from \"C:\\\\TIL\\\\todo_book\\\\book_todo (2)\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/initializerDefineProperty\";\nimport _applyDecoratedDescriptor from \"C:\\\\TIL\\\\todo_book\\\\book_todo (2)\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/applyDecoratedDescriptor\";\nimport _initializerWarningHelper from \"C:\\\\TIL\\\\todo_book\\\\book_todo (2)\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/initializerWarningHelper\";\n\nvar _class, _descriptor, _descriptor2, _descriptor3, _temp;\n\nimport { observable, computed, action } from \"mobx\";\nimport TodoApiModel from \"../api/model/TodoApiModel\";\nimport TodoApi from \"../api/TodoApi\"; //1.Mobx Store 클래서 선언\n\nlet TodoStore = (_class = (_temp = class TodoStore {\n  constructor() {\n    this.todoApi = new TodoApi();\n\n    _initializerDefineProperty(this, \"todos\", _descriptor, this);\n\n    _initializerDefineProperty(this, \"todo\", _descriptor2, this);\n\n    _initializerDefineProperty(this, \"errorMessage\", _descriptor3, this);\n  }\n\n  //3.state 데이터 리턴 - @computed get로 함수 구현\n  get getTodo() {\n    return this.todo ? { ...this.todo\n    } : {};\n  }\n\n  get getTodos() {\n    return this.todos ? this.todos.slice() : [];\n  } //4.state 데이터 변경 @action 함수 구현\n\n\n  setTodoProp(name, value) {\n    this.todo = { ...this.todo,\n      [name]: value\n    };\n  }\n\n  async addTodo() {\n    //this.todos.push(this.todo);\n    const result = this.todoApi.todoCreate(new TodoApiModel(this.todo));\n\n    if (result == null) {\n      this.errorMessage = `${this.todo.todoNum} CREATE ERROR!`;\n      return;\n    }\n\n    this.todos = await this.todoApi.todoList();\n  }\n\n  async removeTodo(todoNum) {\n    //todos에 id인 todo 삭제\n    //this.todos = this.todos.filter((element) => element.todoNum !== todoNum);\n    const result = this.todoApi.todoDelete(todoNum);\n    this.todo = {};\n\n    if (result == null) {\n      this.errorMessage = `${todoNum} DELETE ERROR!`;\n      return;\n    }\n\n    this.todos = await this.todoApi.todoList();\n  }\n\n  async modifyTodo() {\n    // //todos에서 local todo.todoNum와 같은 객체 수정\n    console.log(this.todo);\n    const result = this.todoApi.todoModify(new TodoApiModel(this.todo));\n    this.todo = {};\n\n    if (result == null) {\n      this.errorMessage = `${this.todo.todoNum} UPDATE ERROR!`;\n      return;\n    }\n\n    this.todos = await this.todoApi.todoList();\n  }\n\n  async selectTodo(todoNum) {\n    //todos에서 id가 같은 todo객체 변경\n    //this.todo = this.todos.find((element) => element.id === id);\n    const todoApiModel = this.todoApi.todoDetail(todoNum);\n    todoApiModel ? this.todo = { ...todoApiModel,\n      \"startDate\": new Date(todoApiModel.startDate),\n      \"endDate\": new Date(todoApiModel.endDate)\n    } : this.errorMessage = `${todoNum} NOT FOUND ERROR!`;\n  }\n\n  async selectAll() {\n    this.todos = await this.todoApi.todoList();\n  }\n\n}, _temp), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"todos\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return [];\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"todo\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return {};\n  }\n}), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"errorMessage\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return \"\";\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"getTodo\", [computed], Object.getOwnPropertyDescriptor(_class.prototype, \"getTodo\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"getTodos\", [computed], Object.getOwnPropertyDescriptor(_class.prototype, \"getTodos\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setTodoProp\", [action], Object.getOwnPropertyDescriptor(_class.prototype, \"setTodoProp\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"addTodo\", [action], Object.getOwnPropertyDescriptor(_class.prototype, \"addTodo\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"removeTodo\", [action], Object.getOwnPropertyDescriptor(_class.prototype, \"removeTodo\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"modifyTodo\", [action], Object.getOwnPropertyDescriptor(_class.prototype, \"modifyTodo\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"selectTodo\", [action], Object.getOwnPropertyDescriptor(_class.prototype, \"selectTodo\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"selectAll\", [action], Object.getOwnPropertyDescriptor(_class.prototype, \"selectAll\"), _class.prototype)), _class); //5.객체 생성해서 export\n\nexport default new TodoStore();","map":{"version":3,"sources":["C:/TIL/todo_book/book_todo (2)/src/store/TodoStore.js"],"names":["observable","computed","action","TodoApiModel","TodoApi","TodoStore","todoApi","getTodo","todo","getTodos","todos","slice","setTodoProp","name","value","addTodo","result","todoCreate","errorMessage","todoNum","todoList","removeTodo","todoDelete","modifyTodo","console","log","todoModify","selectTodo","todoApiModel","todoDetail","Date","startDate","endDate","selectAll"],"mappings":"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","sourcesContent":["import { observable, computed, action } from \"mobx\";\r\nimport TodoApiModel from \"../api/model/TodoApiModel\";\r\nimport TodoApi from \"../api/TodoApi\";\r\n\r\n//1.Mobx Store 클래서 선언\r\nclass TodoStore {\r\n  \r\n  todoApi = new TodoApi();\r\n  //2.관리해야하는 state객체 @observable 선언 및 초기화\r\n  @observable\r\n  todos = [];  \r\n\r\n  @observable\r\n  todo = {};\r\n\r\n  @observable\r\n  errorMessage=\"\";\r\n\r\n  //3.state 데이터 리턴 - @computed get로 함수 구현\r\n  @computed\r\n  get getTodo() {\r\n    return this.todo ? { ...this.todo } : {};\r\n  }\r\n\r\n  @computed\r\n  get getTodos() {\r\n    return this.todos ? this.todos.slice() : [];\r\n  }\r\n\r\n  //4.state 데이터 변경 @action 함수 구현\r\n  @action\r\n  setTodoProp(name, value) {\r\n    this.todo = {\r\n      ...this.todo,\r\n      [name]: value,\r\n    };\r\n  }\r\n\r\n  @action\r\n  async addTodo() {\r\n     //this.todos.push(this.todo);\r\n    const result = this.todoApi.todoCreate(new TodoApiModel(this.todo));\r\n    if(result == null ) {\r\n      this.errorMessage=`${this.todo.todoNum} CREATE ERROR!`;\r\n      return;\r\n    }\r\n    this.todos = await this.todoApi.todoList();\r\n   }\r\n\r\n  @action\r\n  async removeTodo(todoNum) {\r\n    //todos에 id인 todo 삭제\r\n    //this.todos = this.todos.filter((element) => element.todoNum !== todoNum);\r\n    const result = this.todoApi.todoDelete(todoNum);\r\n    this.todo = {};\r\n    if(result == null ){ \r\n      this.errorMessage=`${todoNum} DELETE ERROR!`;\r\n      return;\r\n    }\r\n    this.todos = await this.todoApi.todoList();\r\n  }\r\n\r\n  @action\r\n  async modifyTodo() {\r\n    // //todos에서 local todo.todoNum와 같은 객체 수정\r\n    console.log(this.todo);\r\n    const result = this.todoApi.todoModify(new TodoApiModel(this.todo));\r\n    this.todo = {};\r\n    if(result == null ) {\r\n      this.errorMessage=`${this.todo.todoNum} UPDATE ERROR!`;\r\n      return;\r\n    }\r\n    this.todos = await this.todoApi.todoList();\r\n  }\r\n\r\n  @action\r\n  async selectTodo(todoNum) {\r\n    //todos에서 id가 같은 todo객체 변경\r\n    //this.todo = this.todos.find((element) => element.id === id);\r\n    const todoApiModel =  this.todoApi.todoDetail(todoNum);\r\n    todoApiModel ? this.todo ={ ...todoApiModel, \r\n                 \"startDate\" : new Date(todoApiModel.startDate),\r\n                 \"endDate\" : new Date(todoApiModel.endDate)}\r\n                 : this.errorMessage =`${todoNum} NOT FOUND ERROR!`;\r\n  }\r\n\r\n  @action\r\n  async selectAll(){\r\n    this.todos = await this.todoApi.todoList();\r\n  }\r\n}\r\n\r\n//5.객체 생성해서 export\r\nexport default new TodoStore();\r\n"]},"metadata":{},"sourceType":"module"}